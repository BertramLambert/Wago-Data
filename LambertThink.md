# LambertThink - 開發思維日誌 🧠

> "這不只是程式碼的堆疊，而是一場關於工業自動化與邊緣運算融合的實驗。"

這裡記錄了我在開發 `Wago-Data` 專案這三個月來的核心思維。我並非單純地建立範例，而是試圖在 WAGO 控制器這片土壤上，種出一套現代化的 **工業物聯網技術棧 (IIoT Tech Stack)**。

---

## 💡 為什麼要這麼「瘋狂」？

在傳統自動化領域，控制器 (PLC) 往往被視為封閉的邏輯開關。但在我的視角裡，具備 Linux 核心與 Docker 支援的 WAGO 控制器，其實是一台**隱藏在配電箱裡的邊緣伺服器**。

這三個月的開發，我遵循著以下三個核心哲學：

### 1. 數據的「主權」與「近場處理」
我不主張將所有 Raw Data 直接丟上雲端。
* **SQLite 的必要性**：數據應該先在地端被結構化地儲存。這解決了斷網的風險，也讓邊緣端具備了「自我診斷」的歷史依據。
* **數據清洗**：在邊緣端完成計算，只將關鍵結果上傳，這才是高效的架構。

### 2. IT 與 OT 的橋樑：Node-RED
Node-RED 在這個專案中扮演了「數位黏合劑 (Digital Glue)」的角色。
* 它讓 PLC 第一次能與 Discord 聊天、能與 Webhook 對話。
* 當硬體警報變成一則手機通知時，OT 的價值才真正被 IT 端的管理層看見。

### 3. 從單機到集群：Docker Swarm 的啟示
當我開始研究 Swarm 叢集時，我意識到這是一個巨大的轉折。
* **高可用性 (HA)**：工廠不能因為一台控制器壞了就導致數據鏈路中斷。透過叢集，我能讓服務在硬體間「跳動」，實現真正的工業級伺服器韌性。

---

## 🚀 邊緣運算的進階之路

我的目標是建立一個**由下而上**的完整體系：

1.  **L1 - 基礎感知層 (Codesys)**：確保底層通訊與邏輯的穩定，這是所有數據的源頭。
2.  **L2 - 數據中繼層 (Node-RED & SQLite)**：處理、轉換並持久化數據，讓數據開始說話。
3.  **L3 - 邊緣叢集層 (Docker Swarm)**：將多個節點整合為一個整體，提供伺服器等級的運算資源。
4.  **L4 - 雲端整合層 (Cloud Hybrid)**：最終與地端伺服器或公有雲對接，實現跨地域的遠端管理。

---

## 🛠 解決過的「痛點」記錄

- **跨網域通訊**：解決了 PLC 在不同網段下的 Modbus 存取困難。
- **Discord 整合**：克服了工業通訊與加密 API 之間的協議鴻溝。
- **排程靈活性**：打破了 PLC 需要燒錄才能修改時間邏輯的限制，透過視覺化介面釋放營運靈活性。

---

## 🔮 未來思考

這只是開始。後續我將更深入探討 **分散式儲存** 以及 **地端伺服器與免費雲端資源的動態平衡**。

我們不一定要花大錢買雲端空間，透過軟體定義的架構，我們可以在地端就建立出強大且彈性的監控中心。

---
**Lambert** *寫於 2026/01/30 - 專案三個月里程碑*
